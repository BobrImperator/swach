<div class="bg-white cursor-default mb-2 p-3 rounded-lg shadow w-full">
  <div class="flex items-center justify-between pb-2 w-full">
    <h6 class="text-sm">
      {{#if this.isEditing}}
        <Input
          class="border border-2 rounded"
          @type="text"
          @value={{@palette.name}}
          {{did-insert this.insertedNameInput}}
          {{on "blur" (fn this.updatePaletteName @palette)}}
        />
      {{else}}
        <LinkTo
          class="flex flex-grow items-center mb-1 w-full"
          @query={{hash paletteId=@palette.id}}
          @route="color-manager.colors"
        >
          {{@palette.name}}
          {{svg-jar "arrow-right" class="icon ml-1" height="12" width="12"}}
        </LinkTo>
      {{/if}}
    </h6>
    <button {{on "click" (fn this.deletePalette)}}>
      {{svg-jar "trash" class="icon" height="10" width="10"}}
    </button>
  </div>
  <DraggableObjectTarget
    @classNames="palette flex flex-grow h-8 w-full"
    @action={{this.addColorToPalette}}
    @palette={{@palette}}
  >
    {{#if @palette.colors.length}}
      {{#drag-sort-list
        classNames="palette-color-squares flex flex-grow"
        childClass="flex flex-grow"
        isHorizontal=true
        items=@palette.colors
        dragEndAction=(action "updateColorOrder") as |color index|
      }}
        <div
          class="flex flex-grow
            {{if (eq index 0) "first"}}

            {{if (eq index (sub @palette.colors.length 1)) "last"}}"
          style={{html-safe (concat "background-color: " color.hex)}}
          {{on "click" (fn this.colorUtils.copyColorToClipboard color)}}
        ></div>
      {{/drag-sort-list}}
    {{else}}
      <div
        class="bg-gray-200 flex h-8 items-center justify-center text-sm w-full"
      >
        Drag colors here
      </div>
    {{/if}}
  </DraggableObjectTarget>
</div>